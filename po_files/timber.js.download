(function(r){r.fn.prepareTransition=function(){return this.each(function(){var e=r(this);e.one("TransitionEnd webkitTransitionEnd transitionend oTransitionEnd",function(){e.removeClass("is-transitioning")});var t=["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"],i=0;r.each(t,function(o,s){i=parseFloat(e.css(s))||i}),i!=0&&(e.addClass("is-transitioning"),e[0].offsetWidth)})}})(jQuery);function replaceUrlParam(r,e,t){var i=new RegExp("("+e+"=).*?(&|$)"),o=r;return o=r.search(i)>=0?r.replace(i,"$1"+t+"$2"):o+(o.indexOf("?")>0?"&":"?")+e+"="+t}this.reorder=new function(){var r=this;this.pushQueue=function(e,t,i){t[e].check_inventory&&(t[e].quantity=Math.min(parseInt(t[e].inventory),parseInt(t[e].quantity))),$.ajax({url:"/cart/add.js",method:"POST",data:{quantity:t[e].quantity,id:t[e].id},complete:function(o){if(e>=t.length-1){i.removeClass("loading"),window.location.href="/cart";return}else r.pushQueue(e+1,t,i)}})},this.listen=function(){var e=$(this),t=e.attr("data-variant-ids").split(","),i=e.attr("data-variant-quantities").split(","),o=e.attr("data-variant-inventories").split(","),s=e.attr("data-variant-inventory-policies").split(","),d=e.attr("data-variant-inventory-trackers").split(",");t.splice(-1,1),i.splice(-1,1),o.splice(-1,1),s.splice(-1,1),d.splice(-1,1);for(var c=[],n=0;n<t.length;n++)c.push({id:t[n],quantity:i[n],inventory:o[n],check_inventory:s[n]=="deny"&&d[n]!=""});e.addClass("loading"),r.pushQueue(0,c,e)},this.init=function(){$(".reorder-btn").on("click",r.listen)}},$(reorder.init),typeof Shopify=="undefined"&&(Shopify={}),Shopify.formatMoney||(Shopify.formatMoney=function(r,e){var t="",i=/\{\{\s*(\w+)\s*\}\}/,o=e||this.money_format;typeof r=="string"&&(r=r.replace(".",""));function s(c,n){return typeof c=="undefined"?n:c}function d(c,n,u,h){if(n=s(n,2),u=s(u,","),h=s(h,"."),isNaN(c)||c==null)return 0;c=(c/100).toFixed(n);var l=c.split("."),a=l[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+u),m=l[1]?h+l[1]:"";return a+m}switch(o.match(i)[1]){case"amount":t=d(r,2);break;case"amount_no_decimals":t=d(r,0);break;case"amount_with_comma_separator":t=d(r,2,".",",");break;case"amount_no_decimals_with_comma_separator":t=d(r,0,".",",");break}return o.replace(i,t)}),window.timber=window.timber||{},timber.cacheSelectors=function(){timber.cache={$html:$("html"),$body:$(document.body),$navigation:$("#AccessibleNav"),$mobileSubNavToggle:$(".mobile-nav__toggle"),$changeView:$(".change-view"),$productImage:$("#ProductPhotoImg"),$thumbImages:$("#ProductThumbs").find("a.product-single__thumbnail"),$recoverPasswordLink:$("#RecoverPassword"),$hideRecoverPasswordLink:$("#HideRecoverPasswordLink"),$recoverPasswordForm:$("#RecoverPasswordForm"),$customerLoginForm:$("#CustomerLoginForm"),$passwordResetSuccess:$("#ResetSuccess")}},timber.init=function(){FastClick.attach(document.body),timber.cacheSelectors(),timber.accessibleNav(),timber.drawersInit(),timber.mobileNavToggle(),timber.productImageSwitch(),timber.responsiveVideos(),timber.collectionViews(),timber.loginForms()},timber.accessibleNav=function(){var r=timber.cache.$navigation,e=r.find("a"),t=r.children("li").find("a"),i=r.find(".site-nav--has-dropdown"),o=r.find(".site-nav__dropdown").find("a"),s="nav-hover",d="nav-focus";i.on("mouseenter touchstart",function(a){var m=$(this);m.hasClass(s)||a.preventDefault(),n(m)}),i.on("mouseleave",function(){u($(this))}),o.on("touchstart",function(a){a.stopImmediatePropagation()}),e.focus(function(){c($(this))}),e.blur(function(){l(t)});function c(a){var m=a.next("ul"),v=!!m.hasClass("sub-nav"),p=$(".site-nav__dropdown").has(a).length,f=null;p?(f=a.closest(".site-nav--has-dropdown").find("a"),h(f)):(l(t),h(a))}function n(a){a.addClass(s),setTimeout(function(){timber.cache.$body.on("touchstart",function(){u(a)})},250)}function u(a){a.removeClass(s),timber.cache.$body.off("touchstart")}function h(a){a.addClass(d)}function l(a){a.removeClass(d)}},timber.drawersInit=function(){timber.LeftDrawer=new timber.Drawers("NavDrawer","left"),timber.RightDrawer=new timber.Drawers("CartDrawer","right",{onDrawerOpen:ajaxCart.load})},timber.mobileNavToggle=function(){timber.cache.$mobileSubNavToggle.on("click",function(){$(this).parent().toggleClass("mobile-nav--expanded")})},timber.getHash=function(){return window.location.hash},timber.productPage=function(r){var e=r.money_format,t=r.variant,i=r.selector,o=$("#ProductPhotoImg"),s=$("#AddToCart"),d=$("#ProductPrice"),c=$("#ComparePrice"),n=$("#ComparePriceWithStrike"),u=$(".quantity-selector, label + .js-qty"),h=$("#AddToCartText");if(t){if(t.featured_image){var l=t.featured_image,a=o[0];timber.switchImage(l.src,null,a)}t.available?(s.removeClass("disabled").prop("disabled",!1),h.html("Add to Cart"),u.show()):(s.addClass("disabled").prop("disabled",!0),h.html("Sold Out"),u.hide()),d.html(Shopify.formatMoney(t.price,e)),t.compare_at_price>t.price?(c.html("Compare at "+Shopify.formatMoney(t.compare_at_price,e)).show(),n.html("<del>"+Shopify.formatMoney(t.compare_at_price,e)+"</del>").show()):c.hide()}else s.addClass("disabled").prop("disabled",!0),h.html("Select Options"),u.hide()},timber.productImageSwitch=function(){timber.cache.$thumbImages.length&&timber.cache.$thumbImages.on("click",function(r){r.preventDefault();var e=$(this).attr("href");timber.switchImage(e,null,timber.cache.$productImage)})},timber.switchImage=function(r,e,t){var i=$(t);i.attr("src",r)},timber.responsiveVideos=function(){var r=$('iframe[src*="youtube.com/embed"], iframe[src*="player.vimeo"]'),e=r.add("iframe#admin_bar_iframe");r.each(function(){$(this).wrap('<div class="video-wrapper"></div>')}),e.each(function(){this.src=this.src})},timber.collectionViews=function(){timber.cache.$changeView.length&&timber.cache.$changeView.on("click",function(){var r=$(this).data("view"),e=document.URL,t=e.indexOf("?")>-1;t?window.location=replaceUrlParam(e,"view",r):window.location=e+"?view="+r})},timber.loginForms=function(){function r(){timber.cache.$recoverPasswordForm.show(),timber.cache.$customerLoginForm.hide()}function e(){timber.cache.$recoverPasswordForm.hide(),timber.cache.$customerLoginForm.show()}timber.cache.$recoverPasswordLink.on("click",function(t){t.preventDefault(),r()}),timber.cache.$hideRecoverPasswordLink.on("click",function(t){t.preventDefault(),e()}),timber.getHash()=="#recover"&&r()},timber.resetPasswordSuccess=function(){timber.cache.$passwordResetSuccess.show()},timber.Drawers=function(){var r=function(e,t,i){var o={close:".js-drawer-close",open:".js-drawer-open-"+t,openClass:"js-drawer-open",dirOpenClass:"js-drawer-open-"+t};if(this.$nodes={parent:$("body, html"),page:$("#PageContainer"),moved:$(".is-moved-by-drawer")},this.config=$.extend(o,i),this.position=t,this.$drawer=$("#"+e),!this.$drawer.length)return!1;this.drawerIsOpen=!1,this.init()};return r.prototype.init=function(){$(this.config.open).on("click",$.proxy(this.open,this)),this.$drawer.find(this.config.close).on("click",$.proxy(this.close,this))},r.prototype.open=function(e){var t=!1;if(e?e.preventDefault():t=!0,e&&e.stopPropagation&&(e.stopPropagation(),this.$activeSource=$(e.currentTarget)),this.drawerIsOpen&&!t)return this.close();timber.cache.$body.trigger("beforeDrawerOpen.timber",this),this.$nodes.moved.addClass("is-transitioning"),this.$drawer.prepareTransition(),this.$nodes.parent.addClass(this.config.openClass+" "+this.config.dirOpenClass),this.drawerIsOpen=!0,this.trapFocus(this.$drawer,"drawer_focus"),this.config.onDrawerOpen&&typeof this.config.onDrawerOpen=="function"&&(t||this.config.onDrawerOpen()),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","true"),this.$nodes.page.on("touchmove.drawer",function(){return!1}),this.$nodes.page.on("click.drawer",$.proxy(function(){return this.close(),!1},this)),timber.cache.$body.trigger("afterDrawerOpen.timber",this)},r.prototype.close=function(){!this.drawerIsOpen||(timber.cache.$body.trigger("beforeDrawerClose.timber",this),$(document.activeElement).trigger("blur"),this.$nodes.moved.prepareTransition({disableExisting:!0}),this.$drawer.prepareTransition({disableExisting:!0}),this.$nodes.parent.removeClass(this.config.dirOpenClass+" "+this.config.openClass),this.drawerIsOpen=!1,this.removeTrapFocus(this.$drawer,"drawer_focus"),this.$nodes.page.off(".drawer"),timber.cache.$body.trigger("afterDrawerClose.timber",this))},r.prototype.trapFocus=function(e,t){var i=t?"focusin."+t:"focusin";e.attr("tabindex","-1"),e.focus(),$(document).on(i,function(o){e[0]!==o.target&&!e.has(o.target).length&&e.focus()})},r.prototype.removeTrapFocus=function(e,t){var i=t?"focusin."+t:"focusin";e.removeAttr("tabindex"),$(document).off(i)},r}(),$(timber.init);
//# sourceMappingURL=/s/files/1/0738/1409/t/71/assets/timber.js.map?v=110114616919108557861654596906
